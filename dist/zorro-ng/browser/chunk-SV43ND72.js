import{a as P,b as T,e as N,k}from"./chunk-BTD7GRPP.js";import{b as O}from"./chunk-ZBLQCJ4V.js";import{$a as y,Da as a,Ea as u,Ra as p,Rb as M,Sb as w,Ta as s,Ub as L,Va as n,Wa as i,Xa as v,_a as b,ab as d,ba as C,fb as o,gb as f,hb as x,ib as g,jb as F,ka as h,kb as E,la as _,lb as S,nb as I}from"./chunk-IG4KVHXC.js";function V(e,r){e&1&&(n(0,"div",2),v(1,"div",3),i())}function D(e,r){e&1&&(n(0,"p"),o(1,"Citas de hoy"),i())}function j(e,r){if(e&1&&(n(0,"p"),o(1),i()),e&2){let t=d(3);a(),x("Citas de la fecha ",t.fechaFiltro,"")}}function A(e,r){if(e&1&&(n(0,"div",11),p(1,D,2,0,"p",12)(2,j,2,1,"p",12),i()),e&2){let t=d(2);a(),s("ngIf",t.fechaFiltro===t.hoy),a(),s("ngIf",t.fechaFiltro&&t.fechaFiltro!==t.hoy)}}function W(e,r){e&1&&(n(0,"p"),o(1,"No hay citas hoy"),i())}function z(e,r){if(e&1&&(n(0,"p"),o(1),i()),e&2){let t=d(3);a(),x("No hay citas en la fecha ",t.fechaFiltro,"")}}function H(e,r){if(e&1&&(n(0,"div",11),p(1,W,2,0,"p",12)(2,z,2,1,"p",12),i()),e&2){let t=d(2);a(),s("ngIf",t.fechaFiltro===t.hoy),a(),s("ngIf",t.fechaFiltro&&t.fechaFiltro!==t.hoy)}}function B(e,r){if(e&1&&(n(0,"tr",17)(1,"td",18),o(2),i(),n(3,"td",18),o(4),i(),n(5,"td",18),o(6),i(),n(7,"td",18),o(8),i(),n(9,"td",18),o(10),i(),n(11,"td",18),o(12),i()()),e&2){let t=r.$implicit;a(2),f(t.fecha),a(2),f(t.hora),a(2),g(" ",t.medicoNombre," ",t.medicoApellido," "),a(2),g(" ",t.pacienteNombre," ",t.pacienteApellido," "),a(2),f(t.especialidadNombre),a(2),f(t.estado)}}function q(e,r){if(e&1&&(n(0,"table",13)(1,"thead")(2,"tr",14)(3,"th",15),o(4,"Fecha"),i(),n(5,"th",15),o(6,"Hora"),i(),n(7,"th",15),o(8,"M\xE9dico"),i(),n(9,"th",15),o(10,"Paciente"),i(),n(11,"th",15),o(12,"Especialidad"),i(),n(13,"th",15),o(14,"Estado"),i()()(),n(15,"tbody"),p(16,B,13,8,"tr",16),i()()),e&2){let t=d(2);a(16),s("ngForOf",t.citasFiltradas)}}function G(e,r){if(e&1){let t=b();n(0,"div",4)(1,"h1",5),o(2," Listado de Citas "),i(),n(3,"div",6)(4,"input",7),S("ngModelChange",function(c){h(t);let m=d();return E(m.fechaFiltro,c)||(m.fechaFiltro=c),_(c)}),i(),n(5,"button",8),y("click",function(){h(t);let c=d();return _(c.filtrarPorFecha())}),o(6," Filtrar por fecha "),i()(),p(7,A,3,2,"div",9)(8,H,3,2,"div",9)(9,q,17,1,"table",10),i()}if(e&2){let t=d();a(4),F("ngModel",t.fechaFiltro),a(3),s("ngIf",t.citasFiltradas.length>0),a(),s("ngIf",t.citasFiltradas.length===0),a(),s("ngIf",t.citasFiltradas.length>0)}}var Y=(()=>{let r=class r{constructor(l){this.http=l,this.citas=[],this.citasFiltradas=[],this.fechaFiltro="",this.hoy=new Date().toISOString().split("T")[0],this.isLoading=!1}ngOnInit(){this.obtenerCitas()}obtenerCitas(){this.isLoading=!0,this.http.get("http://localhost:8080/api/citas").subscribe(l=>{this.citas=l,this.citasFiltradas=l.filter(c=>c.fecha===this.hoy),this.isLoading=!1},l=>{console.error("Error al cargar las citas",l),this.isLoading=!1})}filtrarPorFecha(){this.fechaFiltro?this.citasFiltradas=this.citas.filter(l=>l.fecha===this.fechaFiltro):this.citasFiltradas=this.citas}};r.\u0275fac=function(c){return new(c||r)(u(O))},r.\u0275cmp=C({type:r,selectors:[["app-citas-list"]],standalone:!0,features:[I],decls:2,vars:2,consts:[["class","spinner-container",4,"ngIf"],["class","container mx-auto px-4 py-8",4,"ngIf"],[1,"spinner-container"],[1,"spinner"],[1,"container","mx-auto","px-4","py-8"],[1,"text-2xl","font-bold","mb-4","text-center","text-gray-800"],[1,"flex","items-center","justify-center","mb-4"],["type","date",1,"border","p-2","rounded",3,"ngModelChange","ngModel"],[1,"ml-2","px-4","py-2","bg-blue-500","text-white","rounded","hover:bg-blue-600",3,"click"],["class","text-center text-gray-600 mb-4",4,"ngIf"],["class","min-w-full bg-white shadow-lg rounded-lg",4,"ngIf"],[1,"text-center","text-gray-600","mb-4"],[4,"ngIf"],[1,"min-w-full","bg-white","shadow-lg","rounded-lg"],[1,"bg-gray-800","text-white"],[1,"p-4","text-left"],["class","hover:bg-gray-100",4,"ngFor","ngForOf"],[1,"hover:bg-gray-100"],[1,"p-4"]],template:function(c,m){c&1&&p(0,V,2,0,"div",0)(1,G,10,4,"div",1),c&2&&(s("ngIf",m.isLoading),a(),s("ngIf",!m.isLoading))},dependencies:[L,M,w,k,P,T,N],styles:[".spinner-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000c;display:flex;justify-content:center;align-items:center;z-index:1000}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(255,255,255,.3);border-top:4px solid #ffffff;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:20px}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#343a40;color:#fff}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #dee2e6;padding:12px;text-align:left}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f8f9fa}button[_ngcontent-%COMP%]{padding:10px 20px;border-radius:8px;font-weight:700;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{opacity:.9}@media (max-width: 768px){table[_ngcontent-%COMP%]{font-size:14px}button[_ngcontent-%COMP%]{width:100%;margin-top:10px}}"]});let e=r;return e})();export{Y as CitasListComponent};
